[
    // install basic debian system
    {
        "type": "debian",
        "name": "debian directory",
        "export": false,

        "include": [
            "initramfs-tools",
            "plymouth",
            "plymouth-themes",

            // systemd
            "systemd",
            "systemd-sysv",
            "dbus",
            "dbus-user-session",

            // audio
            //"pipewire",
            //"pipewire-alsa",
            //"pipewire-pulse",
            //"wireplumber",

            // graphic
            "plasma-desktop",
            "plasma-workspace",
            "plasma-workspace-wayland",
            "kwin-wayland",
            "fonts-dejavu",
            "sddm",

            // other
            "fdisk",
            "dialog",
            "e2fsprogs",
            "cloud-guest-utils",
            "mawk",
            "sed",
            "gdisk",
            "uuid-runtime",
            "kexec-tools",
            "libdrm-tests",
            "less",
            "sudo",
            "nano"
        ],

        "variant": "minbase",
        "suite": "bookworm",
        "url": "http://snapshot.debian.org/archive/debian/20250809T133719Z",

        "hook-directory": "hooks"
    },

    // add files to rootfs
    {
        "type": "directory",
        "name": "rootfs directory with files",
        "export": false,

        "deleteBeforeAdd": [
            "/usr/share/plasma/look-and-feel"
        ],

        "directories": [
            ["/usr/share/plasma/look-and-feel", [0, 0, "0755"]]
        ],

        "items": [
            ["debian directory", "."],
            ["files/locale", "/etc/default/locale", [0, 0, "0644"]],
            ["files/sddm.conf", "/etc/sddm.conf", [0, 0, "0644"]],
            ["files/org.igorkll.uflinux", "/usr/share/plasma/look-and-feel/org.igorkll.uflinux", [0, 0, "0755"]],
            ["files/ksplashrc", "/etc/skel/.config/ksplashrc", [0, 0, "0755"]],
            ["custom_init.sh", "/usr/share/initramfs-tools/init", [0, 0, "0755"]],
            ["custom_init_hook.sh", "/etc/initramfs-tools/hooks/custom_init_hook.sh", [0, 0, "0755"]]
        ]
    },

    // setup rootfs
    {
        "type": "smart-chroot",
        "name": "rootfs directory",
        "export": false,

        "use_systemd_container": true,
        "source": "rootfs directory with files",
        "scripts": [
            "chroot/setup.sh"
        ]
    }
]
