[
    // install basic debian system
    {
        "type": "debian",
        "name": "debian directory",
        "export": false,

        "include": [
            "initramfs-tools",
            "plymouth",
            "plymouth-themes",

            "systemd",
            "systemd-sysv",
            "dbus",

            "fdisk",
            "python3",
            "lua5.3",
            "w3m",
            "w3m-img",
            "dialog",
            "e2fsprogs",
            "cloud-guest-utils",
            "mawk",
            "sed",
            "gdisk",
            "uuid-runtime",
            "kexec-tools",
            "libdrm-tests",
            "less"
        ],

        "variant": "minbase",
        "suite": "bookworm",
        "url": "http://snapshot.debian.org/archive/debian/20250809T133719Z",

        "hook-directory": "hooks"
    },

    // add files to rootfs
    {
        "type": "directory",
        "name": "rootfs directory with files",
        "export": false,

        "items": [
            ["debian directory", "."],
            ["custom_init.sh", "/usr/share/initramfs-tools/init", [0, 0, "0755"]],
            ["custom_init_hook.sh", "/etc/initramfs-tools/hooks/custom_init_hook.sh", [0, 0, "0755"]]
        ]
    },

    // setup rootfs
    {
        "type": "smart-chroot",
        "name": "rootfs directory",
        "export": false,

        "source": "rootfs directory with files",
        "scripts": [
            "chroot/setup.sh"
        ]
    }
]
